<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main-content" ng-controller="chrisCustomerCtrl">
	<ol class="breadcrumb">
  		<li><a href="#">Home</a></li>
  		<li class="active">Customer</li>
	</ol>
	<div class="alert alert-info" ng-if="view.isLoading">Loading data in progress....<i class="fa fa-spinner"></i></div>
	<div class="alert alert-info" ng-if="view.customMsg" ng-bind="view.customMsg"></div>
	<table class="table table-bordered" ng-if="!view.isLoading">
		<thead>
			<tr>
				<th class="width-110px"></th>
				<th ng-click="view.doOrderBy('ID')">ID&nbsp;<span ng-if="view.sorting.orderby == 'ID'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('first_name')">First Name&nbsp;<span ng-if="view.sorting.orderby == 'first_name'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('last_name')">Last Name&nbsp;<span ng-if="view.sorting.orderby == 'last_name'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('email')">Email&nbsp;<span ng-if="view.sorting.orderby == 'email'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('address')">Address&nbsp;<span ng-if="view.sorting.orderby == 'address'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('zipcode')">Postal Code&nbsp;<span ng-if="view.sorting.orderby == 'zipcode'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('phone')">Phone&nbsp;<span ng-if="view.sorting.orderby == 'phone'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('district')">District&nbsp;<span ng-if="view.sorting.orderby == 'district'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('country')">Country&nbsp;<span ng-if="view.sorting.orderby == 'country'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('city')">City&nbsp;<span ng-if="view.sorting.orderby == 'city'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('notes')">Notes&nbsp;<span ng-if="view.sorting.orderby == 'notes'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('store_id')">Store&nbsp;<span ng-if="view.sorting.orderby == 'store_id'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
				<th ng-click="view.doOrderBy('active')">Active&nbsp;<span ng-if="view.sorting.orderby == 'active'"><i class="fa fa-angle-up" ng-if="!view.sorting.ascdesc"></i><i class="fa fa-angle-down" ng-if="view.sorting.ascdesc"></i></span>
				</th>
			</tr>
		<thead>
		<tfoot>
			<tr>
				<td colspan="14">
					<div class="row valign-center">
						<div class="col-md-4 col-lg-4">
							<ul class="pager">
							  <li ng-class="{disabled: view.paging.page <= 1}"><a ng-click="view.paging.page = 1"><<</a></li>
							  <li ng-class="{disabled: view.paging.page <= 1}"><a ng-click="view.paging.page = view.paging.page - 1"><</a></li>
							  <li><input type="text" ng-model="view.paging.page" /> of {{view.paging.pagenum}}</li>
							  <li ng-class="{disabled: view.paging.page >= view.paging.pagenum}"><a ng-click="view.paging.page = view.paging.page + 1">></a></li>
							  <li ng-class="{disabled: view.paging.page >= view.paging.pagenum}"><a ng-click="view.paging.page = view.paging.pagenum">>></a></li>
							</ul>
							<!--<pagination total-items="view.paging.totalItem" page="view.paging.page" items-per-page="view.paging.limit" class="pagination-sm" boundary-links="true" rotate="false" max-size="10"></pagination>-->
						</div>
						<div class="col-md-2 col-lg-2 margin-top-8px">
							<span class="label label-info pull-right" ng-bind="'Records ' + ((view.paging.page * view.paging.limit) + 1 - view.paging.limit) + ' of ' + ((view.paging.page * view.paging.limit)>view.paging.totalItem? view.paging.totalItem: (view.paging.page * view.paging.limit)) + ' of ' + view.paging.totalItem">1 of 10 of 2000</span>&nbsp;
						</div>
						<div class="col-md-2 col-lg-2">
							<select ng-model="view.paging.limit" class="form-control">
								<option>10</option>
								<option>50</option>
								<option>100</option>
							</select>
						</div>
					</div>
				</td>
			</tr>
		</tfoot>
		<tbody>
			<tr ng-repeat="customer in view.customerList">
				<td>
					<div class="btn-group" dropdown ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew">
	      				<button type="button" class="btn btn-default dropdown-toggle">
	        				Options <span class="caret"></span>
	      				</button>
	      				<ul class="dropdown-menu" role="menu">
	        				<li><a ui-sref="chris-customers-detail({customerId: customer.ID, selectedItem: $index})">View</a></li>
	        				<!-- <li><a ui-sref="chris-customers-detail-addnew">Add</a></li> -->
	    					<li><a ui-sref="chris-customers-detail-addnew-edit({customerId: customer.ID})">Edit</a></li>
	    					<li><a ng-click="view.doEdit(customer)">Inline Edit</a></li>
	    					<li><a ui-sref="chris-customers-detail-addnew-copy({customerId: customer.ID})">Copy</a></li>
	    					<li><a ng-click="view.doCopy(customer)">Inline Copy</a></li>
	    					<li><a ng-click="view.doDeleteCustomer($index, customer.ID)">Delete</a></li>
	      				</ul>
	    			</div>

	    			<div class="btn-group btn-group-xs" ng-if="customer.isEdit">
	    				<button type="button" class="btn btn-success"  ng-click="view.doEditSaveChanges(customer)">
	        				Save
	      				</button>
	      				<button type="button" class="btn btn-danger" ng-click="view.doEditCancel(customer)">
	        				Cancel
	      				</button>
	    			</div>

	    			<div class="btn-group btn-group-xs" ng-if="customer.isCopy">
	    				<button type="button" class="btn btn-success"  ng-click="view.doEditSaveChanges(customer)">
	        				Insert
	      				</button>
	      				<button type="button" class="btn btn-danger" ng-click="view.doCopyCancel(customer, $index)">
	        				Cancel
	      				</button>
	    			</div>

	    			<div class="btn-group btn-group-xs" ng-if="customer.isNew">
	    				<button type="button" class="btn btn-success"  ng-click="view.doEditSaveChanges(customer)">
	        				Insert
	      				</button>
	      				<button type="button" class="btn btn-danger" ng-click="view.doAddNewCancel($index)">
	        				Cancel
	      				</button>
	    			</div>
				</td>
				<td>
					<span ng-bind="customer.ID" ng-if="!customer.isCopy && !customer.isNew"></span>
				</td>
				<td>
					<span ng-bind="customer.first_name" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<input type="text" class="form-control" ng-model="customer.first_name" ng-if="customer.isEdit || customer.isCopy || customer.isNew" />
				</td>
				<td>
					<span ng-bind="customer.last_name" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<input type="text" class="form-control" ng-model="customer.last_name" ng-if="customer.isEdit || customer.isCopy || customer.isNew" />
				</td>
				<td>
					<span ng-bind="customer.email" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<input type="email" class="form-control" ng-model="customer.email" ng-if="customer.isEdit || customer.isCopy || customer.isNew" />
				</td>
				<td>
					<span ng-bind="customer.address" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<input type="text" class="form-control" ng-model="customer.address" ng-if="customer.isEdit || customer.isCopy || customer.isNew" />
				</td>
				<td>
					<span ng-bind="customer.zipcode" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<input type="text" class="form-control" ng-model="customer.zipcode" ng-if="customer.isEdit || customer.isCopy || customer.isNew" />
				</td>
				<td>
					<span ng-bind="customer.phone" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<input type="text" class="form-control" ng-model="customer.phone" ng-if="customer.isEdit || customer.isCopy || customer.isNew" />
				</td>
				<td>
					<span ng-bind="customer.district" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<input type="text" class="form-control" ng-model="customer.district" ng-if="customer.isEdit || customer.isCopy || customer.isNew" />
				</td>
				<td>
					<span ng-bind="customer.country" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<select class="form-control" ng-model="customer.country_id" ng-change="view.loadCity(customer)" ng-if="customer.isEdit || customer.isCopy || customer.isNew">
		    			<option ng-repeat="country in view.preloadedData.countryList" ng-bind="country.country" value="{{country.country_id}}" ng-selected="country.country_id == customer.country_id"></option>
		    		</select>
				</td>
				<td>
					<span ng-bind="customer.city" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<select class="form-control" ng-model="customer.city_id" ng-if="customer.isEdit || customer.isCopy || customer.isNew">
		    			<option ng-repeat="city in view.preloadedData.cityList" ng-bind="city.city" value="{{city.city_id}}" ng-selected="city.city_id == customer.city_id"></option>
		    		</select>
				</td>
				<td>
					<span ng-bind="customer.notes" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<input type="text" class="form-control" ng-model="customer.notes" ng-if="customer.isEdit || customer.isCopy || customer.isNew" />
				</td>
				<td>
					<span ng-bind="customer.SID" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<select class="form-control" ng-model="customer.SID" ng-if="customer.isEdit || customer.isCopy || customer.isNew">
		    			<option ng-repeat="store in view.preloadedData.storeList" ng-bind="store.SID" value="{{store.SID}}" ng-selected="store.SID == customer.SID"></option>
		    		</select>
				</td>
				<td>
					<span ng-bind="customer.active" ng-if="!customer.isEdit && !customer.isCopy && !customer.isNew"></span>
					<select class="form-control" ng-model="customer.active" ng-if="customer.isEdit || customer.isCopy || customer.isNew">
		    			<option value="1">Active</option>
		    			<option value="0">Inactive</option>
		    		</select>
				</td>
			</tr>
		</tbody>
	</table>
	<div class="row">
		<div class="col-lg-12">
			<a class="btn btn-primary" ui-sref="chris-customers-detail-addnew">Add</a>
			<a class="btn btn-primary" ng-click="view.doAddNew()">Inline Add</a>
		</div>
	</div>
	<script type="text/ng-template" id="deleteConfirmationDialog.html">
        <div class="modal-header">
            <h3 class="modal-title">Customer Removal Confirmation</h3>
        </div>
        <div class="modal-body">
            Are you sure you want to delete?
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">Yes</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>
</div>